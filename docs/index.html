<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Propensity Score Matching and Subclassification in Observational Studies
    with Multi-level Treatments • multilevelMatching</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Propensity Score Matching and Subclassification in Observational Studies
    with Multi-level Treatments">
<meta property="og:description" content="Matching and subclassfication with multilevel treatment.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">multilevelMatching</a>
        <span class="label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased package">0.1.0.9002</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/multilevelMatching-v1.0.0.html">multilevelMatching-v1.0.0</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/shuyang1987/multilevelMatching">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- rmarkdown v1 -->
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="multilevelmatching" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#multilevelmatching" class="anchor"></a>multilevelMatching</h1></div>

<div id="propensity-score-matching-and-subclassification-in-observational-studies-with-multi-level-treatments" class="section level3">
<h3 class="hasAnchor">
<a href="#propensity-score-matching-and-subclassification-in-observational-studies-with-multi-level-treatments" class="anchor"></a>Propensity Score Matching and Subclassification in Observational Studies with Multi-Level Treatments</h3>
</div>
<div id="visit-the-package-website" class="section level3">
<h3 class="hasAnchor">
<a href="#visit-the-package-website" class="anchor"></a>Visit the <a href="https://shuyang1987.github.io/multilevelMatching/">package website</a>
</h3>
</div>
<div id="description" class="section level2">
<h2 class="hasAnchor">
<a href="#description" class="anchor"></a>Description</h2>
<p>In setting with Multi-level treatments, our goal is to estimate pairwise average treatment effects from a common population using matching methods.</p>
<p>This goal can not be acheived by matching one treatment with another one at a time, since the pairwise matched samples may differ from the target population systematically, and thus they are not compatitable. One implication is that from this approach, it is possible that treatment A is better than treatment B, treatment B is better than treatment C, and treatment C is better than treatment A.</p>
<p>We focus on estimating the average values of potential outcomes for each treatment level by matching methods, which facilitate estimation of pairwise average treatment effects for a common population.</p>
<p>The estimation methods include generalized propensity score (GPS) matching, GPS stratification, matching with the full set of covariates, matching with the full set of GPS vector. Note that GPS matching and GPS straticication only require matching on a scalar function when estimating the average value of the potential outcome at a particular treatment level, which reduces the matching dimension to one, regardless of the number of covariates and the number of treatment levels.</p>
<p>In order to ensure sufficient overlap, <a href="https://doi.org/10.1093/biomet/asn055">Crump et al. (2009)</a>’s trimming method can be extended to this setting as well.</p>
<div id="main-paper-yang-et-al--2016" class="section level3">
<h3 class="hasAnchor">
<a href="#main-paper-yang-et-al--2016" class="anchor"></a>Main Paper: Yang et al. (2016)</h3>
<p>Yang, S., Imbens G. W., Cui, Z., Faries, D. E., &amp; Kadziola, Z. (2016) Propensity Score Matching and Subclassification in Observational Studies with Multi-Level Treatments. <em>Biometrics</em>, 72, 1055-1065. <a href="https://doi.org/10.1111/biom.12505" class="uri">https://doi.org/10.1111/biom.12505</a></p>
</div>
</div>
<div id="installation-with-devtools" class="section level2">
<h2 class="hasAnchor">
<a href="#installation-with-devtools" class="anchor"></a>Installation with <code>devtools</code>:</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"shuyang1987/multilevelMatching"</span>)</code></pre></div>
</div>
<div id="use" class="section level2">
<h2 class="hasAnchor">
<a href="#use" class="anchor"></a>Use</h2>
<p>The functions implementing matching methods are shown here:</p>
<table class="table">
<thead><tr class="header">
<th>Version</th>
<th></th>
<th>Covariate Matching Function</th>
<th>Propensity Score Matching Function</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>
<code>v0.1</code>+</td>
<td></td>
<td><code><a href="reference/multilevelMatchX.html">multilevelMatchX()</a></code></td>
<td><code><a href="reference/multilevelGPSMatch.html">multilevelGPSMatch()</a></code></td>
</tr>
<tr class="even">
<td>
<code>v0.1.0.9000</code>+</td>
<td></td>
<td><code><a href="reference/multiMatch.html">multiMatch()</a></code></td>
<td><code><a href="reference/multiMatch.html">multiMatch()</a></code></td>
</tr>
</tbody>
</table>
<p>Note that these functions have slightly different syntax. The <code><a href="reference/multiMatch.html">multiMatch()</a></code> function was added to standardize some of the inputs, has more verbose output with S3 class <code>"multiMatch"</code>.</p>
<ul>
<li>To estimate by stratifying on the estimating propensity score, use <code><a href="reference/multilevelGPSStratification.html">multilevelGPSStratification()</a></code>.</li>
</ul>
<div id="toy-example" class="section level3">
<h3 class="hasAnchor">
<a href="#toy-example" class="anchor"></a>Toy example</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Outcome
Y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">102</span>,<span class="dv">105</span>,<span class="dv">120</span>,<span class="dv">130</span>,<span class="dv">100</span>,<span class="dv">80</span>,<span class="dv">94</span>,<span class="dv">108</span>,<span class="dv">96</span>)
## Treatment level
W &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>)
## Baseline Covariates
X &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">5.5</span>,<span class="fl">10.6</span>,<span class="fl">3.1</span>,<span class="fl">8.7</span>,<span class="fl">5.1</span>,<span class="fl">10.2</span>,<span class="fl">9.8</span>,<span class="fl">4.4</span>,<span class="fl">4.9</span>)</code></pre></div>
<div id="matching-on-covariates" class="section level4">
<h4 class="hasAnchor">
<a href="#matching-on-covariates" class="anchor"></a>Matching on covariates</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(multilevelMatching)
<span class="kw">set.seed</span>(<span class="dv">123</span>)

<span class="kw"><a href="reference/multilevelMatchX.html">multilevelMatchX</a></span>(Y,W,X)
<span class="co">#&gt; $tauestimate</span>
<span class="co">#&gt; EY(2)-EY(1) EY(3)-EY(1) EY(3)-EY(2) </span>
<span class="co">#&gt;  -10.666667    6.666667   17.333333 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $varestimate</span>
<span class="co">#&gt; EY(2)-EY(1) EY(3)-EY(1) EY(3)-EY(2) </span>
<span class="co">#&gt;    9.111111  615.580247  613.925926</span>

<span class="kw"><a href="reference/multiMatch.html">multiMatch</a></span>(Y,W,X, <span class="dt">match_on =</span> <span class="st">"covariates"</span>)
<span class="co">#&gt; no unit IDs supplied; unit_ids will be assigned generically</span>
<span class="co">#&gt; Warning in prepareData(Y = Y, W = W, X = X, match_on = match_on, trimming</span>
<span class="co">#&gt; = trimming, : It is recommended that X is a matrix. X will be coerced to a</span>
<span class="co">#&gt; matrix.</span>
<span class="co">#&gt; -------------- Causal estimates ---------------</span>
<span class="co">#&gt;         Param Trt1 Trt2   Estimate   Variance</span>
<span class="co">#&gt; 1 EY(2)-EY(1)    1    2 -10.666667   9.111111</span>
<span class="co">#&gt; 2 EY(3)-EY(1)    1    3   6.666667 615.580247</span>
<span class="co">#&gt; 3 EY(3)-EY(2)    2    3  17.333333 613.925926</span>
<span class="co">#&gt; --- Matching on 'covariates' with M=1, J=1 ---</span></code></pre></div>
</div>
<div id="matching-on-estimated-propensity-score" class="section level4">
<h4 class="hasAnchor">
<a href="#matching-on-estimated-propensity-score" class="anchor"></a>Matching on Estimated Propensity Score</h4>
<p>Using multinomial logistic regression:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## v0.1
<span class="kw"><a href="reference/multilevelGPSMatch.html">multilevelGPSMatch</a></span>(Y,W,X,<span class="dt">Trimming=</span><span class="dv">0</span>,<span class="dt">GPSM=</span><span class="st">"multinomiallogisticReg"</span>)
<span class="co">#&gt; $tauestimate</span>
<span class="co">#&gt; EY(2)-EY(1) EY(3)-EY(1) EY(3)-EY(2) </span>
<span class="co">#&gt;  -10.444444    6.666667   17.111111 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $varestimate</span>
<span class="co">#&gt; EY(2)-EY(1) EY(3)-EY(1) EY(3)-EY(2) </span>
<span class="co">#&gt;    8.545953  616.913580  611.122085 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $varestimateAI2012</span>
<span class="co">#&gt; EY(2)-EY(1) EY(3)-EY(1) EY(3)-EY(2) </span>
<span class="co">#&gt;    8.302024  411.456234  434.247037 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $analysisidx</span>
<span class="co">#&gt; [1] 1 2 3 4 5 6 7 8 9</span>

## v0.1.0.9000+
<span class="kw"><a href="reference/multiMatch.html">multiMatch</a></span>(Y,W,X,<span class="dt">trimming =</span> <span class="dv">0</span>, <span class="dt">match_on =</span> <span class="st">"multinom"</span>)
<span class="co">#&gt; no unit IDs supplied; unit_ids will be assigned generically</span>
<span class="co">#&gt; Warning in prepareData(Y = Y, W = W, X = X, match_on = match_on, trimming</span>
<span class="co">#&gt; = trimming, : It is recommended that X is a matrix. X will be coerced to a</span>
<span class="co">#&gt; matrix.</span>
<span class="co">#&gt; -------------- Causal estimates ---------------</span>
<span class="co">#&gt;         Param Trt1 Trt2   Estimate   Variance VarianceAI2016</span>
<span class="co">#&gt; 1 EY(2)-EY(1)    1    2 -10.444444   8.545953       8.302024</span>
<span class="co">#&gt; 2 EY(3)-EY(1)    1    3   6.666667 616.913580     411.456234</span>
<span class="co">#&gt; 3 EY(3)-EY(2)    2    3  17.111111 611.122085     434.247037</span>
<span class="co">#&gt; --- Matching on 'multinom' with M=1, J=1 ---</span></code></pre></div>
<p>Using ordinal logistic regression:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## v0.1
<span class="kw"><a href="reference/multilevelGPSMatch.html">multilevelGPSMatch</a></span>(Y,W,X,<span class="dt">Trimming=</span><span class="dv">1</span>,<span class="dt">GPSM=</span><span class="st">"multinomiallogisticReg"</span>)
<span class="co">#&gt; $tauestimate</span>
<span class="co">#&gt; EY(2)-EY(1) EY(3)-EY(1) EY(3)-EY(2) </span>
<span class="co">#&gt;      -9.375       5.875      15.250 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $varestimate</span>
<span class="co">#&gt; EY(2)-EY(1) EY(3)-EY(1) EY(3)-EY(2) </span>
<span class="co">#&gt;    7.794922  582.654297  576.304688 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $varestimateAI2012</span>
<span class="co">#&gt; EY(2)-EY(1) EY(3)-EY(1) EY(3)-EY(2) </span>
<span class="co">#&gt;    5.072057  383.848575  430.978089 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $analysisidx</span>
<span class="co">#&gt; 1 2 4 5 6 7 8 9 </span>
<span class="co">#&gt; 1 2 4 5 6 7 8 9</span>

## v0.1.0.9000+
<span class="kw"><a href="reference/multiMatch.html">multiMatch</a></span>(Y,W,X,<span class="dt">trimming =</span> <span class="dv">0</span>, <span class="dt">match_on =</span> <span class="st">"multinom"</span>)
<span class="co">#&gt; no unit IDs supplied; unit_ids will be assigned generically</span>
<span class="co">#&gt; Warning in prepareData(Y = Y, W = W, X = X, match_on = match_on, trimming</span>
<span class="co">#&gt; = trimming, : It is recommended that X is a matrix. X will be coerced to a</span>
<span class="co">#&gt; matrix.</span>
<span class="co">#&gt; -------------- Causal estimates ---------------</span>
<span class="co">#&gt;         Param Trt1 Trt2   Estimate   Variance VarianceAI2016</span>
<span class="co">#&gt; 1 EY(2)-EY(1)    1    2 -10.444444   8.545953       8.302024</span>
<span class="co">#&gt; 2 EY(3)-EY(1)    1    3   6.666667 616.913580     411.456234</span>
<span class="co">#&gt; 3 EY(3)-EY(2)    2    3  17.111111 611.122085     434.247037</span>
<span class="co">#&gt; --- Matching on 'multinom' with M=1, J=1 ---</span></code></pre></div>
</div>
<div id="stratifying-on-estimated-propensity-score" class="section level4">
<h4 class="hasAnchor">
<a href="#stratifying-on-estimated-propensity-score" class="anchor"></a>Stratifying on Estimated Propensity Score</h4>
<p>There are some additional arguments for using the stratification method</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">NS &lt;-<span class="st"> </span><span class="dv">5</span> ## The number of strata to divide into
linearp &lt;-<span class="st"> </span><span class="ot">FALSE</span> ## Use subclassification, not linear prediction
nboot &lt;-<span class="st"> </span><span class="dv">10</span> ## Number of bootstrap samples for variance estimation</code></pre></div>
<p>We will use the dataset provided with this package</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(<span class="st">"simulated_data"</span>, <span class="dt">package =</span> <span class="st">"multilevelMatching"</span>)
knitr<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/knitr/topics/kable">kable</a></span>(<span class="kw">head</span>(simulated_data), <span class="dt">digits =</span> <span class="dv">2</span>)</code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="right">outcome</th>
<th align="right">treatment</th>
<th align="right">covar1</th>
<th align="right">covar2</th>
<th align="right">covar3</th>
<th align="right">covar4</th>
<th align="right">covar5</th>
<th align="right">covar6</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">-5.13</td>
<td align="right">1</td>
<td align="right">-0.87</td>
<td align="right">0.24</td>
<td align="right">0.23</td>
<td align="right">-2.89</td>
<td align="right">0.21</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">-3.03</td>
<td align="right">1</td>
<td align="right">0.27</td>
<td align="right">-0.35</td>
<td align="right">-0.40</td>
<td align="right">-2.21</td>
<td align="right">0.07</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">3.05</td>
<td align="right">1</td>
<td align="right">1.42</td>
<td align="right">1.32</td>
<td align="right">-1.20</td>
<td align="right">0.06</td>
<td align="right">1.26</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">-6.09</td>
<td align="right">1</td>
<td align="right">-1.39</td>
<td align="right">-1.07</td>
<td align="right">1.12</td>
<td align="right">-2.36</td>
<td align="right">0.00</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">-2.46</td>
<td align="right">1</td>
<td align="right">-1.15</td>
<td align="right">0.95</td>
<td align="right">0.51</td>
<td align="right">-2.68</td>
<td align="right">0.07</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">-0.32</td>
<td align="right">1</td>
<td align="right">0.27</td>
<td align="right">0.42</td>
<td align="right">-0.45</td>
<td align="right">2.43</td>
<td align="right">0.60</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">boxplot</span>(
  outcome <span class="op">~</span><span class="st"> </span>treatment, 
  <span class="dt">data =</span> simulated_data,
  <span class="dt">xlab =</span> <span class="st">"treatment level"</span>,
  <span class="dt">ylab =</span> <span class="st">"outcome"</span>,
  <span class="dt">main =</span> <span class="st">"Outcomes by treatment level"</span>
)</code></pre></div>
<p><img src="reference/figures/README-boxplot-1.png" width="700"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/multilevelGPSStratification.html">multilevelGPSStratification</a></span>(
  <span class="dt">Y =</span> simulated_data<span class="op">$</span>outcome,
  <span class="dt">W =</span> simulated_data<span class="op">$</span>treatment,
  <span class="dt">X =</span> <span class="kw">as.matrix</span>(simulated_data[,<span class="op">-</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)]),
  <span class="dt">GPSM =</span> <span class="st">"multinomiallogisticReg"</span>,
  <span class="dt">NS =</span> NS,
  <span class="dt">linearp =</span> linearp,
  <span class="dt">nboot =</span> nboot
)
<span class="co">#&gt; $tauestimate</span>
<span class="co">#&gt; EY(2)-EY(1) EY(3)-EY(1) EY(3)-EY(2) </span>
<span class="co">#&gt;  -0.2593016   0.2684324   0.5277340 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $varestimate</span>
<span class="co">#&gt; EY(2)-EY(1) EY(3)-EY(1) EY(3)-EY(2) </span>
<span class="co">#&gt;   0.0752562   0.1793161   0.2744478</span></code></pre></div>
</div>
</div>
</div>
</div>
<div id="news" class="section level1">
<h1 class="hasAnchor">
<a href="#news" class="anchor"></a>News</h1>
<p>See <a href="https://shuyang1987.github.io/multilevelMatching/news/index.html">the News site</a> for the changelog (and updates since version 0.1).</p>
<div id="a-note-on-multimatch" class="section level4">
<h4 class="hasAnchor">
<a href="#a-note-on-multimatch" class="anchor"></a>A note on <code><a href="reference/multiMatch.html">multiMatch()</a></code>
</h4>
<p>The <code><a href="reference/multiMatch.html">multiMatch()</a></code> function may return slightly different estimates than the original 2 matching functions in certain circumstances. We attempt to ensure that the functions implement are identical methods up to perhaps random number generation. Please file an issue if you have any questions or concerns.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fit &lt;-<span class="st"> </span><span class="kw"><a href="reference/multiMatch.html">multiMatch</a></span>(Y,W,X,<span class="dt">trimming =</span> <span class="dv">0</span>, <span class="dt">match_on =</span> <span class="st">"multinom"</span>)
<span class="co">#&gt; no unit IDs supplied; unit_ids will be assigned generically</span>
<span class="co">#&gt; Warning in prepareData(Y = Y, W = W, X = X, match_on = match_on, trimming</span>
<span class="co">#&gt; = trimming, : It is recommended that X is a matrix. X will be coerced to a</span>
<span class="co">#&gt; matrix.</span>

<span class="kw">names</span>(fit)
<span class="co">#&gt;  [1] "results"           "analysis_idx"      "mu"               </span>
<span class="co">#&gt;  [4] "impute_mat"        "estimate_args"     "model"            </span>
<span class="co">#&gt;  [7] "propensity_scores" "impute_match_data" "impute_mat_sorted"</span>
<span class="co">#&gt; [10] "AI2016_args"</span>

<span class="kw">summary</span>(fit)
<span class="co">#&gt; ------------- Method arguments --------------</span>
<span class="co">#&gt; $match_on</span>
<span class="co">#&gt; [1] "multinom"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $model_options</span>
<span class="co">#&gt; $model_options$reference_level</span>
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $M_matches</span>
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $J_var_matches</span>
<span class="co">#&gt; [1] 1</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $trt_levels</span>
<span class="co">#&gt; [1] 1 2 3</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $N_per_trt</span>
<span class="co">#&gt; W</span>
<span class="co">#&gt; 1 2 3 </span>
<span class="co">#&gt; 4 3 2 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ------------- Causal estimates --------------</span>
<span class="co">#&gt;         Param Trt1 Trt2   Estimate   Variance VarianceAI2016</span>
<span class="co">#&gt; 1 EY(2)-EY(1)    1    2 -10.444444   8.545953       8.302024</span>
<span class="co">#&gt; 2 EY(3)-EY(1)    1    3   6.666667 616.913580     411.456234</span>
<span class="co">#&gt; 3 EY(3)-EY(2)    2    3  17.111111 611.122085     434.247037</span>
<span class="co">#&gt; ---------------------------------------------</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/shuyang1987/multilevelMatching">https://​github.com/​shuyang1987/​multilevelMatching</a>
</li>
<li>Report a bug at <br><a href="https://github.com/shuyang1987/multilevelMatching/issues">https://​github.com/​shuyang1987/​multilevelMatching/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Shu Yang <br><small class="roles"> Author </small>  </li>
<li>Brian Barkley <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://cran.r-project.org/package=multilevelMatching"><img src="http://www.r-pkg.org/badges/version/multilevelMatching" alt="CRAN_Status_Badge"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="lifecycle"></a></li>
<li><a href="https://travis-ci.org/shuyang1987/multilevelMatching"><img src="https://travis-ci.org/shuyang1987/multilevelMatching.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/BarkleyBG/multilevelmatching-3hh85"><img src="https://ci.appveyor.com/api/projects/status/eu7vlcbu2j854cdo?svg=true" alt="AppveyorCI Build status"></a></li>
<li><a href="https://codecov.io/github/shuyang1987/multilevelMatching?branch=master"><img src="https://codecov.io/gh/shuyang1987/multilevelMatching/branch/master/graph/badge.svg" alt="Coverage status"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Shu Yang, Brian Barkley.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
